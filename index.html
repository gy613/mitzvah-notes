<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitzvah Note Generator</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 40px; }
        #mitzvah-note { margin-top: 20px; padding: 15px; border: 1px solid #ccc; display: none; }
        button { padding: 10px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>
    <h2>Mitzvah Note Generator</h2>
    <label for="child_name">Child's Name:</label>
    <input type="text" id="child_name" required>
    
    <label for="tone">Tone:</label>
    <select id="tone">
        <option value="Modern Orthodox">Modern Orthodox</option>
        <option value="Standard">Standard</option>
        <option value="Yeshivish">Yeshivish</option>
        <option value="Neturei Karta">Neturei Karta</option>
        <option value="Victorian Era">Victorian Era</option>
    </select>
    
    <button onclick="generateNote()">Generate Mitzvah Note</button>

    <div id="mitzvah-note"></div>

        <script>
    function getRandomItem(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }
        const mitzvahActions = {
    "Honoring parents": ["helping their parents set the table", "listening carefully when their parents spoke", "giving their parents a big hug"],
    "Giving tzedakah": ["giving a dollar to tzedakah", "helping a friend in need", "donating their old toys to charity"],
    "Returning a lost object": ["finding a lost pencil and giving it back", "returning a missing glove to a classmate"],
    "Not speaking Lashon Hara": ["avoiding gossip during recess", "changing the topic when friends started speaking negatively about someone"],
    "Parah Adumah": ["trying to find a real Parah Adumah but settling for a red cow emoji", "asking the rabbi to explain the laws of Parah Adumah"],
    "Shiluach Hakan": ["sending away a mother bird before taking its eggs", "learning about the mitzvah and telling their friends"],
    "Not lending money with ribis": ["refusing to charge their friend extra when lending money", "explaining to a friend why interest is not allowed"],
    "Eating matzah on Pesach": ["eating matzah on Pesach without complaining", "helping prepare the seder plate"],
    "Tefillin": ["wearing tefillin and only having to adjust the retzuos 17 times", "reminding their father to put on tefillin"],
    "Keeping Shabbat": ["reminding the family about candle lighting", "helping set the table for Shabbat"]
};

    ];

    const actions = [
        "helped their sibling clean up toys", "gave a dollar to tzedakah",
        "returned a lost pencil", "refrained from speaking Lashon Hara for a full hour",
        "tried to find a Parah Adumah but settled for a red cow emoji",
        "sent away a mother bird before taking its eggs (and then got pecked by the bird)",
        "refused to lend money with ribis, even though their friend said 'it's just a nickel!'",
        "ate matzah on Pesach without complaining about how dry it was",
        "wore tefillin and only had to adjust the retzuos 17 times",
        "reminded the family about candle lighting"
    ];

    const templates = {
        "Modern Orthodox": [
            "Dear Morah, {child} performed the mitzvah of {mitzvah} by {action}. What a role model!"
        ],
        "Standard": [
            "Dear Morah, {child} did an incredible mitzvah today! They engaged in {mitzvah} by {action}."
        ],
        "Yeshivish": [
            "Dear Morah, {child} was mekayem {mitzvah} with great zerizus today!"
        ],
        "Neturei Karta": [
            "Dear Morah, {child} took a stand against the Tziyoinim (Reshaim Arurim) while performing {mitzvah} today!"
        ],
        "Victorian Era": [
            "Dearest Governess, {child} didst today fulfill the sacred mitzvah of {mitzvah} by {action}. Their conduct was most exemplary."
        ]
    };

   function generateNote() {
    let childName = document.getElementById("child_name").value;
    let tone = document.getElementById("tone").value;

    if (!childName) {
        alert("Please enter a child's name!");
        return;
    }

    // Correctly match actions with mitzvot
    const mitzvahActions = {
        "Honoring parents": ["helped their parents set the table", "listened carefully when their parents spoke", "gave their parents a big hug"],
        "Giving tzedakah": ["gave a dollar to tzedakah", "helped a friend in need", "donated their old toys to charity"],
        "Returning a lost object": ["found a lost pencil and gave it back", "returned a missing glove to a classmate"],
        "Not speaking Lashon Hara": ["avoided gossip during recess", "changed the topic when friends started speaking negatively about someone"],
        "Parah Adumah": ["tried to find a real Parah Adumah but settled for a red cow emoji", "asked the rabbi to explain the laws of Parah Adumah"],
        "Shiluach Hakan": ["sent away a mother bird before taking its eggs", "learned about the mitzvah and told their friends"],
        "Not lending money with ribis": ["refused to charge their friend extra when lending money", "explained to a friend why interest is not allowed"],
        "Eating matzah on Pesach": ["ate matzah on Pesach without complaining", "helped prepare the seder plate"],
        "Tefillin": ["wore tefillin and only had to adjust the retzuos 17 times", "reminded their father to put on tefillin"],
        "Keeping Shabbat": ["reminded the family about candle lighting", "helped set the table for Shabbat"]
    };

    let mitzvah = getRandomItem(Object.keys(mitzvahActions));
    let action = getRandomItem(mitzvahActions[mitzvah]);

    let template = getRandomItem(templates[tone]);

    let mitzvahNote = template.replace("{child}", childName)
                              .replace("{mitzvah}", mitzvah)
                              .replace("{action}", action);

    document.getElementById("mitzvah-note").innerHTML = `<h3>Mitzvah Note:</h3><p>${mitzvahNote}</p>`;
    document.getElementById("mitzvah-note").style.display = "block";
}


        if (!childName) {
            alert("Please enter a child's name!");
            return;
        }

        const mitzvahActions = {
    "Honoring parents": ["helped their parents set the table", "listened carefully when their parents spoke", "gave their parents a big hug"],
    "Giving tzedakah": ["gave a dollar to tzedakah", "helped a friend in need", "donated their old toys to charity"],
    "Returning a lost object": ["found a lost pencil and gave it back", "returned a missing glove to a classmate"],
    "Not speaking Lashon Hara": ["avoided gossip during recess", "changed the topic when friends started speaking negatively about someone"],
    "Parah Adumah": ["tried to find a real Parah Adumah but settled for a red cow emoji", "asked the rabbi to explain the laws of Parah Adumah"],
    "Shiluach Hakan": ["sent away a mother bird before taking its eggs", "learned about the mitzvah and told their friends"],
    "Not lending money with ribis": ["refused to charge their friend extra when lending money", "explained to a friend why interest is not allowed"],
    "Eating matzah on Pesach": ["ate matzah on Pesach without complaining", "helped prepare the seder plate"],
    "Tefillin": ["wore tefillin and only had to adjust the retzuos 17 times", "reminded their father to put on tefillin"],
    "Keeping Shabbat": ["reminded the family about candle lighting", "helped set the table for Shabbat"]
};

// Pick a random mitzvah
let mitzvah = getRandomItem(Object.keys(mitzvahActions));
// Pick a random action that matches the selected mitzvah
let action = getRandomItem(mitzvahActions[mitzvah]);

        let template = getRandomItem(templates[tone]);

        let mitzvahNote = template.replace("{child}", childName)
                                  .replace("{mitzvah}", mitzvah)
                                  .replace("{action}", action);

        document.getElementById("mitzvah-note").innerHTML = `<h3>Mitzvah Note:</h3><p>${mitzvahNote}</p>`;
        document.getElementById("mitzvah-note").style.display = "block";
    }
</script>
